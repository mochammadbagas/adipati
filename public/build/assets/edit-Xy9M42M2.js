import{q as y,W as b,r as f,j as e,Y as C}from"./app-BYp-eQj0.js";import{H as T}from"./header-C421oJzg.js";import{A as S}from"./app-layout-bBWUUIcA.js";import{$ as v,C as N,a as i,L as E,I as F,b as o,M as c,T as A,B as M,t as n}from"./tooltip-DkUY4b1Q.js";import{F as _}from"./form-Cbz4u6tb.js";import{T as u}from"./text-field-BxFzu0JU.js";import"./flash-message-EEnTQ1J0.js";function q({article:a}){const{categoriesArticle:p,articleTags:m}=y().props,d=v({initialItems:a.tags}),{data:l,setData:s,patch:x,processing:g,reset:h,errors:r}=b({title:a.title??"",teaser:a.teaser??"",body:a.body??"",picture:null,article_tags:a.tags??"",articleCategory_id:a.category.id??""});f.useEffect(()=>{s("article_tags",d.items.map(t=>t.id))},[d.items]);const j=t=>{t.preventDefault(),x(route("article.update",a.slug),{preserveScroll:!0,onSuccess:()=>{n.success("Artikel anda sukses diupdate."),h()},onError:()=>{n.error("Gagal mengupdate artikel.")}})};return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"Edit Article"}),e.jsx(T,{title:"Edit Article"}),e.jsx(N,{children:e.jsxs(i,{className:"p-6",children:[e.jsxs(i.Header,{children:[e.jsx(i.Title,{children:"Share Your Story Today!"}),e.jsx(i.Description,{children:"Create compelling articles that inspire, inform, and engageâ€”it's quick, simple, and impactful. Start now!"})]}),e.jsx(i.Content,{className:"space-y-6",children:e.jsxs(_,{onSubmit:j,validationErrors:r,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-[6px]",children:[e.jsx(E,{htmlFor:"picture",children:"Thumbnail"}),e.jsx(F,{className:"border border-input rounded-lg hover:bg-neutral-900 py-[6px]",type:"file",onChange:t=>s("picture",t.target.files?t.target.files[0]:null)})]}),e.jsxs(o,{label:"Category",placeholder:"Select a category",errorMessage:r.articleCategory_id,defaultSelectedKey:l.articleCategory_id,onSelectionChange:t=>s("articleCategory_id",t),children:[e.jsx(o.Trigger,{}),e.jsx(o.List,{items:p,children:t=>e.jsx(o.Option,{id:t.id,textValue:t.name,value:t.id,children:t.name})})]}),e.jsx(c,{label:"Tag",selectedItems:d,items:m,tag:t=>e.jsx(c.Tag,{textValue:t.name,children:t.name},t.id),children:t=>e.jsx(c.Option,{textValue:t.name,children:t.name},t.id)})]}),e.jsx(u,{id:"title",label:"Title",value:l.title,type:"text",className:"mt-1",autoFocus:!0,onChange:t=>s("title",t),errorMessage:r.title,autoComplete:"title",isRequired:!0}),e.jsx(u,{id:"teaser",label:"Teaser",value:l.teaser,type:"text",className:"mt-1",autoFocus:!0,onChange:t=>s("teaser",t),errorMessage:r.teaser,autoComplete:"teaser",isRequired:!0}),e.jsx(A,{id:"body",label:"Body",value:l.body,type:"text",className:"mt-1",autoFocus:!0,onChange:t=>s("body",t),errorMessage:r.body,autoComplete:"body",isRequired:!0}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(M,{type:"submit",isDisabled:g,children:"Submit"})})]})})]})})]})}q.layout=a=>e.jsx(S,{children:a});export{q as default};
