import{q as f,W as y,r as b,j as e,Y as C}from"./app-B2ca1LDr.js";import{H as T}from"./header-D1kPhtQG.js";import{A as v}from"./app-layout-CPiWT9mg.js";import{$ as S,C as N,a as i,L as E,I as F,b as o,M as d,T as M,B as P,t as n}from"./tooltip-lHw-z-2b.js";import{F as _}from"./form-DJDvpzZ9.js";import{T as p}from"./text-field-DkpDGKOe.js";import"./flash-message-DK496Ji0.js";function q({product:r}){const{categoriesProduct:u,productTags:m}=f().props,c=S({initialItems:r.tags}),{data:l,setData:s,patch:g,processing:x,reset:h,errors:a}=y({title:r.title??"",description:r.description??"",price:r.price??"",picture:null,product_tags:r.tags??"",productCategory_id:r.category.id??""});b.useEffect(()=>{s("product_tags",c.items.map(t=>t.id))},[c.items]);const j=t=>{t.preventDefault(),g(route("product.update",r.slug),{preserveScroll:!0,onSuccess:()=>{n.success("Produk anda sukses diupdate."),h()},onError:()=>{n.error("Gagal mengupdate produk.")}})};return e.jsxs(e.Fragment,{children:[e.jsx(C,{title:"Edit Product"}),e.jsx(T,{title:"Edit Product"}),e.jsx(N,{children:e.jsxs(i,{className:"p-6",children:[e.jsxs(i.Header,{children:[e.jsx(i.Title,{children:"Share Your Product Today!"}),e.jsx(i.Description,{children:"Create compelling products that inspire, inform, and engageâ€”it's quick, simple, and impactful. Start now!"})]}),e.jsx(i.Content,{className:"space-y-6",children:e.jsxs(_,{onSubmit:j,validationErrors:a,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"flex flex-col gap-[6px]",children:[e.jsx(E,{htmlFor:"picture",children:"Thumbnail"}),e.jsx(F,{className:"border border-input rounded-lg hover:bg-neutral-900 py-[6px]",type:"file",onChange:t=>s("picture",t.target.files?t.target.files[0]:null)})]}),e.jsxs(o,{label:"Category",placeholder:"Select a category",errorMessage:a.productCategory_id,defaultSelectedKey:l.productCategory_id,onSelectionChange:t=>s("productCategory_id",t),children:[e.jsx(o.Trigger,{}),e.jsx(o.List,{items:u,children:t=>e.jsx(o.Option,{id:t.id,textValue:t.name,value:t.id,children:t.name})})]}),e.jsx(d,{label:"Tag",selectedItems:c,items:m,tag:t=>e.jsx(d.Tag,{textValue:t.name,children:t.name},t.id),children:t=>e.jsx(d.Option,{textValue:t.name,children:t.name},t.id)})]}),e.jsx(p,{id:"title",label:"Title",value:l.title,type:"text",className:"mt-1",autoFocus:!0,onChange:t=>s("title",t),errorMessage:a.title,autoComplete:"title",isRequired:!0}),e.jsx(M,{id:"description",label:"Description",value:l.description,type:"text",className:"mt-1",autoFocus:!0,onChange:t=>s("description",t),errorMessage:a.description,autoComplete:"description",isRequired:!0}),e.jsx(p,{id:"price",label:"Price",value:l.price,type:"price",className:"mt-1",autoFocus:!0,onChange:t=>s("price",t),errorMessage:a.price,autoComplete:"price",isRequired:!0}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx(P,{type:"submit",isDisabled:x,children:"Submit"})})]})})]})})]})}q.layout=r=>e.jsx(v,{children:r});export{q as default};
